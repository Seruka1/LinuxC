# 文件系统

## 目标

实例：类ls的实现,如myls -l -a -i -n

## 一、目录和文件

### 1. 获取文件属性

- stat 通过文件路径获取属性
- fstat 通过文件描述符获取属性
- lstat 面对符号链接文件时，获取的是符号🔗文件l的属性,而stat获取的是链接对象的属性
- 注意：在unix中文件大小 `size`只是一个属性，不一定代表文件真正的大小(与文件系统相关)

### 2. 文件访问权限

st_mode（rwxr--r--）总共16位，用于表示文件类型、文件访问权限、特殊权限位（粘住位、组用户设置位）

- 文件类型 dcb-lsp（7种文件类型，用3位表示）
  - 目录文件
  - 字符设备文件
  - 块设备文件
  - 常规文件
  - 符号链接文件
  - 套接字文件
  - 命名管道文件

### 3. umask

### 4. 文件权限的更改/管理

### 5. 粘住位

### 6. 文件系统：FAT,UFS

### 7. 硬链接，符号链接

### 8. utime

### 9. 目录的创建与销毁

### 10. 更改当前工作目录

### 11. 分析目录/读取目录内容

## 二、系统数据文件和信息

## 三、进程环境
