# I/O

一切实现的基础

## 文件IO/系统调用IO

fd是在文件IO中贯穿始终的类型

1. 文件描述符的概念

   整形数，数组下标，文件描述符优先使用当前可用范围内最小的
2. 文件IO操作：

   - open
   - close
   - read
   - write
   - lseek
3. 文件IO与标准IO的区别：

   响应速度&吞吐量，文件IO每次调用直接切换到内核进行输出，标准IO有缓冲的概念。
   对用户来说，需要吞吐量大。

   ***注意：两者不可混用。***

   转换：fdopen与fileno
4. IO的效率问题
5. 文件共享：多个任务共同操作一个文件或者协同完成任务

   truncate 截断文件
6. 原子操作
7. 程序中的重定向
8. 同步

   - sync
   - fsync
   - fdatasync
9. fcntl()
10. ioctl()
11. /dev/fd/目录：虚目录，显示的是当前进程的文件描述符信息

**strace运行程序看用到的系统调用**

**加粗**   *倾斜*
正文中的代码 `int i=1`
