# 流媒体播放
mp3,多播，客户端为被动方，服务器为主动方
## 协议
1. 多播地址与端口号约定
2. 节目单数据包
3. 频道数据包
4. 频道数上限

## 客户端
1. 设置默认端口号、组播地址、使用的解码器
2. 命令行解析
3. 初始化Socket端口号
4. 设置Socket属性，打开多播属性，禁止接受自身消息
5. bind地址
6. 创建管道（父子进程通信）
7. 父进程接收节目单数据包
8. 父进程接收频道数据包
9. 子进程读取频道数据，fork()执行解码器播放。

## 服务器
1. 设置默认端口号、组播地址、网口号、是否前台运行、媒体库文件位置
2. 设置终止信号的行为（回收线程，关闭系统日志）
3. 命令行解析
4. 守护进程与日志文件实现
5. 初始化Socket端口号
6. 设置Socket属性，打开多播属性，禁止接受自身消息
7. 建立媒体库（利用文件系统/数据库），分析所有频道信息（分析的同时建立节目单信息）。
8. 结合流量控制(令牌桶)获取媒体库的数据
9. 创建节目单线程，提取媒体库节目单数据发送。
10. 创建频道线程，发送所有频道的数据